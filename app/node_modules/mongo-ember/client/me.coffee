define [], () ->
	#to use this, make sure Ember-Data and jQuery are already available
	me = 
		version: '{{version}}'
		models: '{{models}}'
		notify: ->
			alert 'Hello World!'
		attach: (App, names) ->
			for name in names
				App[name] = @models[name].model
				App[name + 'Adapter'] = @models[name].adapter
				App[name + 'Serializer'] = @models[name].serializer
			return
		auth:
			signup: (user) ->
				url = '{{url_signup}}'
				if typeof user.toJSON == 'function' then user = user.toJSON()
				return $.post url, user
				#this returns a promise

			login: (user) ->
				url = '{{url_login}}'
				if typeof user.toJSON == 'function' then user = user.toJSON()
				return $.post url, user
				#this returns a promise
				
			check: ->
				url = '{{url_check}}'
				return $.get url
				#this returns a promise


			

