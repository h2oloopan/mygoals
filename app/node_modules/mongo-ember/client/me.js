// Generated by CoffeeScript 1.7.1
define([], function() {
  var me;
  return me = {
    version: '{{version}}',
    models: '{{models}}',
    notify: function() {
      return alert('Hello World!');
    },
    attach: function(App, names) {
      var name, _i, _len;
      for (_i = 0, _len = names.length; _i < _len; _i++) {
        name = names[_i];
        App[name] = this.models[name].model;
        App[name + 'Adapter'] = this.models[name].adapter;
        App[name + 'Serializer'] = this.models[name].serializer;
      }
    },
    auth: {
      signup: function(user) {
        var data, url;
        url = '{{url_signup}}';
        data = JSON.stringify({
          user: user.toJSON()
        });
        return new Ember.RSVP.Promise(function(resolve, reject) {
          return $.ajax({
            type: 'POST',
            contentType: 'application/json; charset=utf-8',
            url: url,
            data: data,
            dataType: 'json'
          }).done(function(data) {
            return resolve(data);
          }).fail(function(data) {
            return reject(data.responseText);
          });
        });
      },
      login: function(user) {
        var url;
        url = '{{url_login}}';
        if (typeof user.toJSON === 'function') {
          user = user.toJSON();
        }
        return $.post(url, {
          user: user
        });
      },
      check: function() {
        var url;
        url = '{{url_check}}';
        return new Ember.RSVP.Promise(function(resolve, reject) {
          return $.get(url).done(function(data) {
            return resolve(data);
          }).fail(function(data) {
            return resolve(null);
          });
        });
      }
    }
  };
});
