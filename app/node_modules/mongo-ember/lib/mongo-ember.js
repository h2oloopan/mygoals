// Generated by CoffeeScript 1.7.1
var middleware, mongo, mongoose;

mongoose = require('mongoose');

mongo = require('./mongo');

middleware = require('./middleware');

exports.connect = function(connectionString) {
  var con;
  con = mongoose.connection;
  mongoose.connect(connectionString, {
    server: {
      socketOptions: {
        keepAlive: 1
      }
    }
  });
  mongoose.connection.on('connected', function() {
    return console.log('MongoDB connected');
  });
  mongoose.connection.on('disconnected', function() {
    return console.log('MongoDB disconnected');
  });
  mongoose.connection.on('error', function(err) {
    return console.log('MongoDB returned with error ' + err);
  });
  return con;
};

exports.middleware = middleware;

exports.createModel = function(name, schema) {
  return mongo.createModel(name, schema);
};
