// Generated by CoffeeScript 1.6.3
(function() {
  define(['utils'], function(utils) {
    var HomeRouter;
    return HomeRouter = Backbone.Router.extend({
      currentView: null,
      routes: {
        '': 'home'
      },
      change: function(view, options) {
        options = options || {};
        if (this.currentView != null) {
          this.currentView.undelegateEvents();
        }
        return require([view], function(View) {
          var next;
          next = new View(options);
          this.currentView = next;
          return this.currentView.render();
        });
      },
      home: function() {
        if (utils.auth()) {
          return utils.navigate('dashboard');
        } else {
          return this.change('views/home/index');
        }
      }
    });
  });

}).call(this);
