// Generated by CoffeeScript 1.6.3
(function() {
  define(['utils'], function(utils) {
    var AccountRouter;
    return AccountRouter = Backbone.Router.extend({
      currentView: null,
      routes: {
        'account/signup': 'signup',
        'account/login': 'login',
        'account/login?from=:from': 'login'
      },
      change: function(view, options) {
        options = options || {};
        if ((options.auth != null) && utils.auth() !== options.auth) {
          return false;
        }
        if (this.currentView != null) {
          this.currentView.undelegateEvents();
        }
        return require([view], function(View) {
          var next;
          next = new View(options);
          this.currentView = next;
          return this.currentView.render();
        });
      },
      signup: function() {
        return this.change('views/account/signup', {
          auth: false
        });
      },
      login: function(from) {
        if (from != null) {
          return this.change('views/account/login', {
            from: from,
            auth: false
          });
        } else {
          return this.change('views/account/login', {
            auth: false
          });
        }
      }
    });
  });

}).call(this);
